<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>
  <h5>封装任意若干个实参的求平均数</h5>
  <script>
    function avg(){
      let sum = 0;
      for(let i=0;i<arguments.length;i++){
        sum += arguments[i];
      }
      return sum / arguments.length
    }

    document.write(avg(1,2) + '<hr>')
  </script>
  <h5>封装字符串中某个字符出现的个数函数</h5>
  <script>
    function getCount(str,char){
      let count = 0;
      for(let i=0;i<str.length;i++){
        if(str[i] == char){
          count++;
        }
      }
      document.write('字符【'+char+'】出现了'+count+'次<hr>')
    }

    getCount('fdasklfdakreqrew','f')
  </script>
  <h5>封装数组中的位置方法indexOf的功能函数</h5>
  <script>
    function indexOf(arr,n){
      for(let i=0;i<arr.length;i++){
        if(arr[i] == n){
          return i;
        }
      }
      return -1;
    }

    function lastIndexOf(arr,n){
      let index = -1;
      for(let i=0;i<arr.length;i++){
        if(arr[i] == n){
          index = i
        }
      }
      return index;
    }
 
    let targetArr = [1,2,3,1,3,7,1]
    document.write(targetArr + '中，1第一次出现的下标是：' + indexOf(targetArr,1) + '<hr>')
    document.write(targetArr + '中，1最后一次出现的下标是：' + lastIndexOf(targetArr,1) + '<hr>')
  </script>
  <h5 id="getElement" class="getElement2">封装通过id名称获取元素节点对象的方法</h5>
  <script>
    function getDom(id){
      return document.getElementById(id);
    }

    getDom('getElement').style.color = 'red';
  </script>
  <h5 class="getElement2">封装通过className获取元素节点对象的方法</h5>
  <script>
    function getDom2(className){
      return document.getElementsByClassName(className);
    }

    // console.log(getDom2('getElement2') instanceof Array);
    getDom2('getElement2')[1].style.color = 'green';
  </script>
  <h5>封装数组的排序方法</h5>
  <script>
var arr2 = [{name:'张三',score: 60},{name:'李四',score: 90},{name:'王五',score: 30}]
// arr.sort(function(a,b){
//   return a.score - b.score;
// })

    function sort(arr,fn){
      for(let i=arr.length-1;i>=0;i--){
        for(let j=0;j<i;j++){
          if(fn){
            if(fn(arr[j],arr[j+1]) > 0){
              var t = arr[j];
              arr[j] = arr[j+1];
              arr[j+1] = t;
            }
          }else{
            if(arr[j]>arr[j+1]){
              var t = arr[j];
              arr[j] = arr[j+1];
              arr[j+1] = t;
            }
          }
        }
      }
    }

    sort(arr2,function(a,b){
      return a.score - b.score
    })
    document.write(JSON.stringify(arr2))
  </script>
  <h5>封装数组的去重方法</h5>
  <script>
    var arr3 = [1,3,5,2,2,3,5,7];
    // for(let i=0;i<arr3.length;i++){
    //   if(result.indexOf(arr3[i])<0){
    //     result.push(arr3[i])
    //   }
    // }

    function unique(arr){
      var result = [];
      var map = {};
      for(let i=0;i<arr.length;i++){
        if(map[arr[i]] != 1){
          map[arr[i]] = 1;
          result.push(arr[i])
        }
      }
      return result;
    }
    
    document.write(unique(arr3))
  </script>
  <h5>封装数组的求最大值最小值函数</h5>
  <script>
    var arr4 = [1,3,5,2,2,3,5,7]

    function getMinMax(arr){
      var min=null,max=null;
      for(let i = 0;i<arr.length;i++){
        // if(min==null){
        //   min = arr[i];
        // }else if(arr[i] < min){
        //   min = arr[i]
        // }
        if(min==null || arr[i] < min){
          min = arr[i];
        }

        if(max==null || arr[i] > max){
          max = arr[i];
        }
      }
      return {
        min:min,
        max:max
      }
    }
    console.log(getMinMax(arr4))
  </script>
  <script>
    // indexOf
    // lastIndexOf
    // toUpperCase 
    // toLowerCase
    // chartAt
    // substring
    // substr
    // split
    // replace

    //查找某个字符串中出现次数最多的字符以及显示出现的最大次数
      // var arr = 'fdawerwqrewkfdsafefdse'
      // var map = {};
      // for(let i=0;i<arr.length;i++){
      //   if(typeof map[arr[i]] == 'undefined'){
      //     map[arr[i]] = 1;
      //   }else{
      //     map[arr[i]] ++;
      //   }
      // }
      // console.log(map)
      // var max=0;
      // for(let o in map){
      //   if(map[o]>max){
      //     max = map[o];
      //   }
      // }

      // for(let o in map){
      //   if(map[o]==max){
      //     console.log('【'+o+'】是出现次数最多的字符，出现了【'+map[o]+'】次')        
      //   }
      // }
      // var str = 'fdasfdasfasarewfaqrw'
      // var p = str.indexOf('fa')
      // while(p>=0){
      //   // str = str.substring(0,p) + 'aa' + str.substring(p+'fa'.length)
      //   str = str.replace('fa','aa');
      //   p = str.indexOf('fa')
      // }
      // console.log(str);
  </script>
</body>
</html>